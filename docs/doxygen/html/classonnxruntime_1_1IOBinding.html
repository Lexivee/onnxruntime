<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ONNX Runtime: onnxruntime::IOBinding Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ONNX Runtime
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceonnxruntime.html">onnxruntime</a></li><li class="navelem"><a class="el" href="classonnxruntime_1_1IOBinding.html">IOBinding</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classonnxruntime_1_1IOBinding-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">onnxruntime::IOBinding Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="IOBinding_8h_source.html">IOBinding.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac1217bbb8ec78b47ad58c343cdd15f7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#ac1217bbb8ec78b47ad58c343cdd15f7c">BindInput</a> (const std::string &amp;name, const <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &amp;ml_value)</td></tr>
<tr class="separator:ac1217bbb8ec78b47ad58c343cdd15f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03022da7eb066502cae7288f13ef1625"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#a03022da7eb066502cae7288f13ef1625">SynchronizeInputs</a> ()</td></tr>
<tr class="separator:a03022da7eb066502cae7288f13ef1625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d4ea18ada1b7227d9fd73a4576713f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#a2d4ea18ada1b7227d9fd73a4576713f8">SynchronizeOutputs</a> ()</td></tr>
<tr class="separator:a2d4ea18ada1b7227d9fd73a4576713f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad060d48245f5873694878e419cd2fdc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#ad060d48245f5873694878e419cd2fdc9">BindOutput</a> (const std::string &amp;name, const <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &amp;ml_value)</td></tr>
<tr class="separator:ad060d48245f5873694878e419cd2fdc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42617f235c1a5cc9b5efe8bfeabedfd1"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#a42617f235c1a5cc9b5efe8bfeabedfd1">GetOutputNames</a> () const</td></tr>
<tr class="separator:a42617f235c1a5cc9b5efe8bfeabedfd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2200c675c3fa6c3aa11de0847082fe33"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#a2200c675c3fa6c3aa11de0847082fe33">GetOutputs</a> ()</td></tr>
<tr class="separator:a2200c675c3fa6c3aa11de0847082fe33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97181d4c755d6588da31fe25d7dbed49"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; std::string, <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#a97181d4c755d6588da31fe25d7dbed49">GetInputs</a> () const</td></tr>
<tr class="separator:a97181d4c755d6588da31fe25d7dbed49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1210c428eaa9cf938914c9e38e6b9a77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceonnxruntime.html#a6cdac724c5dcefded3a63f08dae58fda">AllocatorPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonnxruntime_1_1IOBinding.html#a1210c428eaa9cf938914c9e38e6b9a77">GetCPUAllocator</a> (int id, <a class="el" href="namespaceonnxruntime.html#a863e2227cbf32aab76aad35fdadff4bb">onnxruntime::ProviderType</a> provider_type) const</td></tr>
<tr class="separator:a1210c428eaa9cf938914c9e38e6b9a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Input/Output binding. Usage is as follows:</p>
<p><a class="el" href="classonnxruntime_1_1InferenceSession.html" title="This is the main class used to Run a model. Sample simple usage: CPUExecutionProviderInfo epi; Provid...">InferenceSession</a> session; session.Load(); session.Initialize(); ... shared_ptr&lt;IOBinding&gt; io_binding; session.NewIOBinding("DML", &amp;io_binding); io_binding-&gt;BindInput(...); io_binding-&gt;BindInput(...); io_binding-&gt;<a class="el" href="classonnxruntime_1_1IOBinding.html#a03022da7eb066502cae7288f13ef1625">SynchronizeInputs()</a>;</p>
<p>io_binding-&gt;BindOutput(...); io_binding-&gt;BindOutput(...);</p>
<p>session.Run(io_binding);</p>
<p>vector&lt;MLValue&gt;&amp; outputs = io_binding-&gt;<a class="el" href="classonnxruntime_1_1IOBinding.html#a2200c675c3fa6c3aa11de0847082fe33">GetOutputs()</a>; </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac1217bbb8ec78b47ad58c343cdd15f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1217bbb8ec78b47ad58c343cdd15f7c">&#9670;&nbsp;</a></span>BindInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a> onnxruntime::IOBinding::BindInput </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &amp;&#160;</td>
          <td class="paramname"><em>ml_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call repeatedly to bind as many inputs as required. <a class="el" href="classonnxruntime_1_1If.html">If</a> the input mlvalue is not at the desired location (specified by the execution provider), this will copy it to the desired location. This copy may or may not be async. It depends on the exec provider. <a class="el" href="classonnxruntime_1_1If.html">If</a> the input mlvalue is not at the desired location, it should be preallocated <a class="el" href="classonnxruntime_1_1If.html">If</a> the input mlvalue isn't preallocated, it should have memtype of ONNXRuntimeMemTypeDefault For copying it leverages <a class="el" href="classonnxruntime_1_1IExecutionProvider.html#a2b9bb47c0d2d72598ceb381688adfe26">IExecutionProvider::CopyTensor()</a>. </p>

</div>
</div>
<a id="ad060d48245f5873694878e419cd2fdc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad060d48245f5873694878e419cd2fdc9">&#9670;&nbsp;</a></span>BindOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a> onnxruntime::IOBinding::BindOutput </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &amp;&#160;</td>
          <td class="paramname"><em>ml_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This simply provides the names and optionally allocated output containers. </p>

</div>
</div>
<a id="a1210c428eaa9cf938914c9e38e6b9a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1210c428eaa9cf938914c9e38e6b9a77">&#9670;&nbsp;</a></span>GetCPUAllocator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceonnxruntime.html#a6cdac724c5dcefded3a63f08dae58fda">AllocatorPtr</a> onnxruntime::IOBinding::GetCPUAllocator </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceonnxruntime.html#a863e2227cbf32aab76aad35fdadff4bb">onnxruntime::ProviderType</a>&#160;</td>
          <td class="paramname"><em>provider_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a CPU allocator from provider for async copy later if the provider supports that <a class="el" href="classonnxruntime_1_1If.html">If</a> it doesn't support that, return the default allocator from CPU provider </p><dl class="section return"><dt>Returns</dt><dd>a nonnull pointer </dd></dl>

</div>
</div>
<a id="a97181d4c755d6588da31fe25d7dbed49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97181d4c755d6588da31fe25d7dbed49">&#9670;&nbsp;</a></span>GetInputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_map&lt; std::string, <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &gt; &amp; onnxruntime::IOBinding::GetInputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a42617f235c1a5cc9b5efe8bfeabedfd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42617f235c1a5cc9b5efe8bfeabedfd1">&#9670;&nbsp;</a></span>GetOutputNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; std::string &gt; &amp; onnxruntime::IOBinding::GetOutputNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This simply collects the outputs obtained after calling Run() inside the</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputs.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2200c675c3fa6c3aa11de0847082fe33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2200c675c3fa6c3aa11de0847082fe33">&#9670;&nbsp;</a></span>GetOutputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classonnxruntime_1_1MLValue.html">MLValue</a> &gt; &amp; onnxruntime::IOBinding::GetOutputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a03022da7eb066502cae7288f13ef1625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03022da7eb066502cae7288f13ef1625">&#9670;&nbsp;</a></span>SynchronizeInputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a> onnxruntime::IOBinding::SynchronizeInputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classonnxruntime_1_1If.html">If</a> the BindInput calls are async this function acts as a barrier to ensure all inputs are fully copied before you call the Run() method. There is no point calling Run() if you're inputs are not ready at the desired location. This is a blocking call and is a wrapper over <a class="el" href="classonnxruntime_1_1IExecutionProvider.html#a3657d5ed274547507a7b99d466fa13ef">IExecutionProvider::Sync()</a>. Call <a class="el" href="classonnxruntime_1_1InferenceSession.html#a90aa8b5fdc2638c4d2c45afc9c3ed222">InferenceSession::Run()</a> only after calling this method or else you'll end up wasting cycles inside Run(). </p>

</div>
</div>
<a id="a2d4ea18ada1b7227d9fd73a4576713f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4ea18ada1b7227d9fd73a4576713f8">&#9670;&nbsp;</a></span>SynchronizeOutputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classonnxruntime_1_1common_1_1Status.html">common::Status</a> onnxruntime::IOBinding::SynchronizeOutputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>onnxruntime/onnxruntime/core/session/<a class="el" href="IOBinding_8h_source.html">IOBinding.h</a></li>
<li>onnxruntime/onnxruntime/core/session/<a class="el" href="IOBinding_8cc.html">IOBinding.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
